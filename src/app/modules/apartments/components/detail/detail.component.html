<div class="container" [class.flexible]="isFeaturesVisible">
    <!-- apartment-content -->
    <div class="apartment-content">
        <perfect-scrollbar class="scrollbar">
            <h1 class="apartment-title">{{ apartment.name }}</h1>
            <div class="infoblocks">
                <div class="infoblock" *ngFor="let advantage of apartment.advantages">
                    <img [src]="advantage.icon" class="infoblock-icon"/>
                    <span>{{ advantage.name }}</span>
                </div>
            </div>
            <div class="apartment-text" [innerHtml]="apartment.description | paragraphs">
            </div>
            <ul class="apartment-characteristic">
                <li>
                    <p>Размер номера</p>
                    <p>{{ apartment.area }} м²</p>
                </li>
                <li>
                    <p>Количество гостей</p>
                    <p>{{ apartment.guestsCount }}</p>
                </li>
            </ul>
            <div class="apartment-controls">
                <button type="button" class="button secondary">Забронировать</button>
                <a [routerLink]="[]" class="next-room">
                    <span>Следующий номер</span>
                    <svg width="22px" height="7px">
                        <use xlink:href="assets/sprites/icons.svg#arrow-right"></use>
                    </svg>
                </a>
            </div>
        </perfect-scrollbar>
    </div>

    <!-- features -->
    <div class="features" [ngClass]="{'photos-on': !isFeaturesVisible, 'features-on': isFeaturesVisible}">
        <div class="features-wrapper">
            <perfect-scrollbar class="scrollbar">
                <header class="features-header">
                    <h3 *ngIf="isFeaturesVisible">Особенности и удобства</h3>
                    <button
                        (click)="isFeaturesVisible = !isFeaturesVisible"
                        type="button"
                        class="button light"
                    >
                        {{ isFeaturesVisible ? 'Фотографии' : 'Особенности' }}
                    </button>
                </header>

                <!-- features items -->
                <div *ngIf="isFeaturesVisible" class="features-items">
                    <div class="features-item" *ngFor="let feature of apartment.features">
                        <header class="features-item-header">
                            <div class="features-item-icon" [style.-webkit-mask]="sanitizer.bypassSecurityTrustStyle('url(' + feature.icon + ') no-repeat center')"></div>
                            <h6 class="features-item-title">{{ feature.name }}</h6>
                        </header>
                        <div class="features-item-text" [innerHTML]="feature.description"></div>
                    </div>
                </div>
            </perfect-scrollbar>
            <div class="slider-controls" [class.display-none]="isFeaturesVisible">
                <div class="slider-index">{{ index + 1 }}/{{ apartment.images.length }}</div>
                <button type="button" class="control-button" (click)="imagesSlider.swiper.slidePrev()">
                    <svg>
                        <use xlink:href="assets/sprites/icons.svg#arrow-left"></use>
                    </svg>
                </button>
                <button type="button" class="control-button" (click)="imagesSlider.swiper.slideNext()">
                    <svg>
                        <use xlink:href="assets/sprites/icons.svg#arrow-right"></use>
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>
<div class="background-block" [class.features-block]="isFeaturesVisible">

    <!-- slider -->
    <div
        class="swiper-container"
        [class.display-none]="isFeaturesVisible"
        [(index)]="index"
        [swiper]="config" #imagesSlider
    >
        <div class="swiper-wrapper">
            <div class="swiper-slide" *ngFor="let image of apartment.images">
                <img [src]="image" alt="business image">
            </div>
        </div>
    </div>
</div>
